!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("preact"),require("glamor")):"function"==typeof define&&define.amd?define(["preact","glamor"],r):e.glamorous=r(e.preact,e.Glamor)}(this,function(e,r){"use strict";var t="__glamorous__",o=void 0;if((e=e&&e.hasOwnProperty("default")?e.default:e).PropTypes||(o=function(){return o},["array","bool","func","number","object","string","symbol","any","arrayOf","element","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact"].forEach(function(e){o[e]=o})),!e.Children){var n={map:function(e,r,t){return null==e?null:(e=n.toArray(e),t&&t!==e&&(r=r.bind(t)),e.map(r))},forEach:function(e,r,t){if(null==e)return null;e=n.toArray(e),t&&t!==e&&(r=r.bind(t)),e.forEach(r)},count:function(e){return e&&e.length||0},only:function(e){if(1!==(e=n.toArray(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:[].concat(e)}};e.Children=n}o=o||e.PropTypes;var s,a=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),p=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},c=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},u=function(e,r){var t={};for(var o in e)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},f=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},m=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)};function y(e){var r=[],t=[];return e.toString().split(" ").forEach(function(e){if(0===e.indexOf("css-")){var o=p({},"data-"+e,"");t.push(o)}else r.push(e)}),{glamorlessClassName:r,glamorStyles:t}}function d(e){var t=e.styles,o=e.props,n=e.cssOverrides,s=e.cssProp,a=e.context,i=(e.displayName,function e(r,t,o){var n=void 0;var s=[];var a=[];for(var i=0;i<r.length;i++)if("function"==typeof(n=r[i])){var p=n(t,o);if("string"==typeof p){var l=y(p),c=l.glamorStyles,u=l.glamorlessClassName;s.push.apply(s,m(c)),a.push.apply(a,m(u))}else s.push(p)}else if("string"==typeof n){var f=y(n),h=f.glamorStyles,d=f.glamorlessClassName;s.push.apply(s,m(h)),a.push.apply(a,m(d))}else if(Array.isArray(n)){var v=e(n,t,o);s.push.apply(s,m(v.mappedArgs)),a.push.apply(a,m(v.nonGlamorClassNames))}else s.push(n);return{mappedArgs:s,nonGlamorClassNames:a}}([].concat(m(t),[o.className,n,s]),o,a)),p=i.mappedArgs,l=i.nonGlamorClassNames;return(r.css.apply(void 0,[null].concat(m(p))).toString()+" "+l.join(" ").trim()).trim()}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e:[e]}function g(e,r){return e?e.concat(r):r}function b(e){return e.rootEl?e.rootEl:e.comp||e}return s=function(e,r){var t=r.forwardProps,o=e.css,n=e.innerRef,s=(e.theme,e.className,e.glam,u(e,["css","innerRef","theme","className","glam"]));return void 0!==n&&-1!==t.indexOf("innerRef")&&(s.innerRef=n),{toForward:s,cssProp:o}},function r(n){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=y.rootEl,P=y.displayName,w=y.shouldClassNameUpdate,A=y.filterProps,j=void 0===A?[]:A,N=y.forwardProps,x=void 0===N?[]:N,C=y.propsAreCssOverrides,E=void 0===C?n.propsAreCssOverrides:C,T=y.withProps;return Object.assign(R,{withConfig:_}),R;function _(e){return r(n,l({},y,e))}function R(){for(var y=arguments.length,A=Array(y),N=0;N<y;N++)A[N]=arguments[N];var C,R,S,k,G,W,I,q,F,M,U,D=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.noWarn,u=void 0!==s&&s,m=n.createElement,y=void 0===m||m,d=function(e){function o(){var e,r,t;a(this,o);for(var n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=t=f(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(s))),t.warned=u,t.state={theme:{}},t.setTheme=function(e){return t.setState({theme:e})},f(t,r)}return c(o,e),i(o,[{key:"componentWillMount",value:function(){this.context[t];var e=this.props.theme;this.context[t]?this.setTheme(e||this.context[t].getState()):this.setTheme(e||{})}},{key:"componentWillReceiveProps",value:function(e){this.props.theme!==e.theme&&this.setTheme(e.theme)}},{key:"componentDidMount",value:function(){this.context[t]&&!this.props.theme&&(this.subscriptionId=this.context[t].subscribe(this.setTheme))}},{key:"componentWillUnmount",value:function(){this.subscriptionId&&this.context[t].unsubscribe(this.subscriptionId)}},{key:"render",value:function(){return y?h(r,l({},this.props,this.state)):r.call(this,l({},this.props,this.state),this.context)}}]),o}(e.Component),v=p({},t,o.object),g=null;return Object.defineProperty(d,"contextTypes",{enumerable:!0,configurable:!0,set:function(e){g=e},get:function(){return g?l({},v,g):v}}),d}(function(r,t){var o=function(e,r,t){if(!w)return!0;var o=!0;return t&&(w(t.props,e,t.context,r)||(o=!1)),o}(r=function e(r,t,o,n){return r.forEach(function(r){return"function"==typeof r?Object.assign(t,r(Object.assign({},t,o),n)):Array.isArray(r)?Object.assign(t,e(r,t,o,n)):Object.assign(t,r)}),Object.assign(t,o)}(D.propsToApply,{},r,t),t,this.previous);w&&(this.previous={props:r,context:t});var n=s(r,D),a=n.toForward,i=n.cssOverrides,p=n.cssProp;return this.className=o?d({styles:D.styles,props:r,cssOverrides:i,cssProp:p,context:t,displayName:D.displayName}):this.className,e.createElement(D.comp,l({ref:"innerRef"in a?void 0:r.innerRef},a,{className:this.className}))},{noWarn:!0,createElement:!1});return Object.assign(D,(R=(C={comp:n,styles:A,rootEl:O,filterProps:j,forwardProps:x,displayName:P,propsToApply:T}).comp,S=C.styles,k=C.rootEl,G=C.filterProps,W=C.forwardProps,I=C.displayName,q=C.propsToApply,F=R.comp?R.comp:R,M=R.propsToApply?[].concat(m(R.propsToApply),m(v(q))):v(q),{styles:g(R.styles,S),comp:F,rootEl:k||b(R),forwardProps:g(R.forwardProps,W),filterProps:g(R.filterProps,G),displayName:I||"glamorous("+(U=R,"string"==typeof U?U:U.displayName||U.name||"unknown")+")",propsToApply:M}),{isGlamorousComponent:!0,propsAreCssOverrides:E,withComponent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=D.forwardProps,n=D.filterProps,s=u(D,["forwardProps","filterProps"]);return r(l({},s,{comp:e,rootEl:b(e)}),l({forwardProps:o,filterProps:n},t))()},withProps:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return r(D,{withProps:t})()},withConfig:_}),D}}});
//# sourceMappingURL=glamorous.umd.min.tiny.js.map
